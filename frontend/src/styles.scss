@use '@angular/material' as mat;
@include mat.core();

/*
Global CSS Styles 

This defines any global CSS styles independent of the theme.
*/

html,
body {
    height: 100%;
}

body {
    margin: 0;
    font-family: Roboto, "Helvetica Neue", sans-serif;
}

.mat-mdc-card {
    max-width: 640px;
    margin: 1em;
}

.mdc-notched-outline__notch {
    border-left: 1px solid rgba(0, 0, 0, 0);
    border-right: none !important;
}

.mdc-card__actions {
    min-height: 0px !important;
}

.mdc-text-field__input::-webkit-calendar-picker-indicator {
    display: block !important;
    filter: invert(1);
}

.mat-icon,
.mat-icon svg {
    color: white;
    fill: white;
}

.sidebar-button-tooltip-panel {
    max-width: 150px;
}

@media (prefers-color-scheme: light) {

    .mat-icon,
    .mat-icon svg {
        color: black;
        fill: black;
    }
}


/* 
Create Global Material Themes

This creates a dark and light mode theme respectively from Angular Material 3, using
the supplied palette.
*/
$dark-theme: mat.define-theme((
    color: (
        theme-type: dark,
        primary: mat.$violet-palette
    )
));

$light-theme: mat.define-theme((
    color: (
        theme-type: light,
        primary: mat.$violet-palette
    )
));

/* 
Styles Mixin 

This is an SCSS function that takes in a theme ($theme) and applies styles to
elements based on properties of the theme. Since this site has both a light
and dark mode theme, we can define our styles here, and then pass in the
light and dark mode theme below. This way, we do not have duplicating code
for both the light and dark themes.
*/
@mixin styles($theme) {

    .mat-sidenav-container, .mat-sidenav, .mat-toolbar {
        background-color: mat.get-theme-color($theme, surface-container);
    }

    .mat-toolbar {
        color: mat.get-theme-color($theme, on-surface);
        font: mat.get-theme-typography($theme, headline-medium, font);
        font-weight: 500;
    }

    .mdc-list-item__primary-text {
        color: mat.get-theme-color($theme, on-surface-variant);
    }

    .mat-mdc-subheader {
        font: mat.get-theme-typography($theme, title-small, font);
        margin-left: 16px;
    }

    .mat-mdc-nav-list {
        margin-left: 12px;
        margin-right: 12px;
    }
    .mat-mdc-nav-list .mat-divider-horizontal {
        margin-top: 16px;
        margin-bottom: 29px; // 16px + 13 to make it look even (which is offset from label to end of button for listing above)
        margin-left: 16px;
        margin-right: 16px;
    }

    .mat-mdc-list-item-title {
        font: mat.get-theme-typography($theme, label-large, font);
    }

    .mdc-list-item {
        .material-symbols-outlined {
        font-variation-settings:
        'FILL' 0,
        'wght' 500,
        'GRAD' 0,
        'opsz' 24
        }
    }
    
    .mat-mdc-card p {
        color: mat.get-theme-color($theme, on-surface-variant);
    }

    .mat-mdc-card-outlined {
        background-color: mat.get-theme-color($theme, surface);
    }

    .mat-mdc-card-title {
        font: mat.get-theme-typography($theme, title-large, font);
        color: mat.get-theme-color($theme, on-surface);
    }

}

/*
Apply the themes to the site

This section applies the themes and styles we created above to the site depending
on whether or not the site is in light or dark mode.
*/
html {

    @include mat.all-component-themes($dark-theme);
    @include styles($dark-theme);

    @media (prefers-color-scheme: light) {
        @include mat.all-component-colors($light-theme);
        @include styles($light-theme);
    }
}