<!-- Event Detail Card -->
<mat-card class="event-detail-card" appearance="outlined">
  <!-- Title Section -->
  <div class="event-title-container">
    <!-- Title -->
    <div class="event-title">
      <mat-card-title>{{ event.name }}</mat-card-title>
    </div>

    <!-- Buttons -->
    <div class="event-actions">
      <button
        mat-icon-button
        *ngIf="checkPermissions() | async"
        [routerLink]="[
          'events',
          'organizations',
          event.organization!.slug,
          'events',
          event.id,
          'edit'
        ]"
        [relativeTo]="null">
        <mat-icon>edit</mat-icon>
      </button>
      <button
        mat-icon-button
        *ngIf="checkPermissions() | async"
        [routerLink]="['events']"
        [relativeTo]="null"
        (click)="deleteEvent(event)">
        <mat-icon>delete</mat-icon>
      </button>
      <button mat-icon-button (click)="onShareButtonClick()">
        <mat-icon>share</mat-icon>
      </button>
      <!-- TODO: Implement Calendar File Download Button -->
      <!-- <button mat-icon-button>
                <mat-icon>calendar_today</mat-icon>
            </button> -->
    </div>
  </div>

  <mat-divider id="top-divider" />

  <!-- Organization Section -->
  <div
    class="organization-section"
    [routerLink]="'/organizations/' + event.organization!.slug">
    <!-- Organization Icon -->
    <img mat-card-image src="{{ event.organization!.logo }}" class="logo" />
    <!-- Organization Name -->
    <p id="organization-name">{{ event.organization!.shorthand }}</p>
  </div>

  <mat-divider class="padded-divider" />

  <!-- Logistical Information -->
  <div>
    <p
      *ngIf="
        event.time.toDateString() === event.end_time.toDateString();
        else sameDay
      ">
      <strong>{{ event.time | date: 'E, MMM d' }}</strong> at
      {{ event.time | date: 'h:mm a' }} to {{ event.end_time | date: 'h:mm a' }}
    </p>
    <ng-template #sameDay>
      <p>
        <strong>{{ event.time | date: 'E, MMM d' }}</strong> at
        {{ event.time | date: 'h:mm a' }} to
        <strong>{{ event.end_time | date: 'E, MMM d' }}</strong> at
        {{ event.end_time | date: 'h:mm a' }}
      </p>
    </ng-template>
    <p><strong>Location:</strong> {{ event.location }}</p>
  </div>

  <mat-divider class="padded-divider" />

  <!-- Description -->
  <p>{{ event.description }}</p>
</mat-card>
