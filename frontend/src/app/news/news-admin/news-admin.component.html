@if (articlesPage()) {
<mat-card appearance="outlined" class="max-w-full! mr-8! border-transparent!">
  <mat-card-content>
    <div class="table-responsive">
      <table mat-table [dataSource]="articlesPage()!.items">
        <ng-container matColumnDef="title">
          <th mat-header-cell *matHeaderCellDef>
            <div class="flex items-center justify-between">
              <mat-card-title>Articles</mat-card-title>
              <button mat-stroked-button routerLink="/article/new/edit">
                Create
              </button>
            </div>
          </th>
          <td mat-cell *matCellDef="let element" class="cursor-pointer border-y-0! hover:bg-white/10! hover:rounded-2xl">
            <div class="flex items-center justify-between">
              <p class="mb-0!">
                {{ element.title }}
                <span
                  [class]="
                    'text-[10px] h-[22px] w-8 text-center px-[6px] py-0.5 rounded-full text-white' +
                    (element.state === articleState.DRAFT
                      ? 'secondary-container-background'
                      : element.state === articleState.PUBLISHED
                      ? 'primary-fixed-dim-background'
                      : 'tertiary-container-background')
                  ">
                  {{ element.state }}
                </span>
                @if(element.is_announcement) {
                <span
                  class="text-[10px] h-[22px] w-8 text-center px-[6px] py-0.5 rounded-full text-white primary-container-background ml-4"
                >
                  Announcement
                </span>
                }
              </p>
              <div class="button-container">
                <button
                  mat-stroked-button
                  (click)="deleteArticle(element)"
                  class="tertiary-button justify-between m-1">
                  Delete
                </button>
                <button
                  mat-stroked-button
                  class="justify-between m-1"
                  [routerLink]="'/article/' + element.slug + '/edit'">
                  Edit
                </button>
                <button
                  mat-flat-button
                  class="justify-between m-1"
                  [routerLink]="'/article/' + element.slug">
                  View
                </button>
              </div>
            </div>
          </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
      <mat-paginator
        [length]="articlesPage()!.length"
        [pageSize]="articlesPage()!.params.page_size"
        [pageIndex]="articlesPage()!.params.page"
        (page)="handlePageEvent($event)"></mat-paginator>
    </div>
  </mat-card-content>
</mat-card>
}
