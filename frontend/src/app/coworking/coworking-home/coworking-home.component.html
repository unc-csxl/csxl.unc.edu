<!-- eslint-disable prettier/prettier -->
<banner-card
  type="info"
  icon="construction"
  title="Page Under Construction"
  body="This page's styling has not yet been updated to conform to Material 3. Some features of the page may not work as expected." />

@if (status$ | async; as status) {
  @if (openOperatingHours$ | async; as openOperatingHours) {
    <coworking-operating-hours-panel
      [operatingHours]="status.operating_hours"
      [openOperatingHours]="openOperatingHours" />
  } @else {
    <coworking-operating-hours-panel [operatingHours]="status.operating_hours" />
  }
  
  @if (activeReservation$ | async; as activeReservation) {
    <coworking-reservation-card
      (updateActiveReservation)="setActiveReservation()"
      (reloadCoworkingHome)="ngOnInit()"
      [reservation]="activeReservation"></coworking-reservation-card>
  } @else {
    <coworking-dropin-availability-card
      [seat_availability]="status.seat_availability"
      (seatsSelected)="reserve($event)" />
  }

  <mat-pane>
    <div class="reserve-room-content">
      <div class="reserve-room-text">
        <mat-card-title>Reserve a Room</mat-card-title>
        <p>Reserve a room in the XL hallway!</p>
      </div>
      <button
        id="new-room-reservation-button"
        mat-stroked-button
        type="submit"
        (click)="navigateToNewReservation()"
        color="primary">
        View
      </button>
    </div>
  </mat-pane>
}

@if (((upcomingReservations$ | async) ?? []).length > 0) {
  <mat-pane>
    <mat-card-header>
      <mat-card-title>Upcoming Room Reservations</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      @for (reservation of upcomingReservations$ | async; track reservation) {
        <coworking-reservation-card
          [reservation]="reservation"
          [isPane]="false"
          (reloadCoworkingHome)="ngOnInit()">
        </coworking-reservation-card>
      }  
    </mat-card-content>
  </mat-pane>
}