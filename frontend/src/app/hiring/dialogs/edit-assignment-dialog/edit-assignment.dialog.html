<h2 mat-dialog-title>Edit Assignment</h2>
<mat-dialog-content>
  <form [formGroup]="editAssignmentForm">
    <div class="row">
      <user-chip-list [users]="[data.assignment.user]" />
      @if(getApplication()) {
      <button
        mat-button
        class="primary-button"
        type="button"
        (click)="openApplicationDialog()">
        View Application
      </button>
      }
    </div>
    <mat-form-field appearance="outline">
      <mat-label>Select Level</mat-label>
      <mat-select formControlName="level">
        <mat-select-trigger>
          {{ editAssignmentForm.get('level')?.value?.title }}
        </mat-select-trigger>
        @for(level of hiringService.activeHiringlevels(); track level.id) {
        <mat-option [value]="level">
          <span class="option">
            <span>{{ level.title }}</span>
            @if(isInstructorPreferred(level)) {
            <mat-icon
              class="font-primary"
              matTooltip="Instructor preferred level"
              matTooltipPosition="right"
              >recommend</mat-icon
            >
            }
          </span>
        </mat-option>
        }
      </mat-select>
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>Status</mat-label>
      <mat-select formControlName="status">
        <mat-option [value]="hiringAssignmentStatus.DRAFT">{{
          hiringAssignmentStatus.DRAFT
        }}</mat-option>
        <mat-option [value]="hiringAssignmentStatus.COMMIT">{{
          hiringAssignmentStatus.COMMIT
        }}</mat-option>
        <mat-option [value]="hiringAssignmentStatus.FINAL">{{
          hiringAssignmentStatus.FINAL
        }}</mat-option>
      </mat-select>
    </mat-form-field>
    <mat-slide-toggle formControlName="i9">
      This student has submitted an I9.
    </mat-slide-toggle>
    <mat-form-field appearance="outline">
      <mat-label>Position Number</mat-label>
      <input matInput formControlName="position_number" />
    </mat-form-field>
    <mat-form-field appearance="outline">
      <mat-label>EPar</mat-label>
      <input matInput formControlName="epar" />
    </mat-form-field>
    <mat-form-field appearance="outline" color="accent">
      <mat-label>Notes</mat-label>
      <textarea matInput formControlName="notes" name="notes"></textarea>
    </mat-form-field>
  </form>
</mat-dialog-content>
<mat-dialog-actions>
  <button mat-stroked-button color="secondary" (click)="close()">Cancel</button>
  <button
    mat-flat-button
    color="primary"
    [disabled]="!formIsValid()"
    (click)="submit()">
    Edit
  </button>
</mat-dialog-actions>
