<div class="ticket-history">
  <div *ngIf="userTickets">
    <table mat-table [dataSource]="userTickets">
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header">Date</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="row">
            <p>
              {{ element.oh_event.event_date | date: 'EEEE M/d/YYYY' }} {{
              element.oh_event.start_time | date: 'h:mma' | lowercase }}
            </p>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="event-type">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header">Event Type</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="row">
            <p>{{ formatEventType(element.oh_event.type) }}</p>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="TA">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header">TA</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="row">
            <p>
              {{ element.caller?.first_name ?? '' }} {{
              element.caller?.last_name ?? 'N/A' }}
            </p>
          </div>
        </td>
      </ng-container>
      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef>
          <div class="header">Description</div>
        </th>
        <td mat-cell *matCellDef="let element">
          <div class="row">
            <p class="newline">{{ element.description }}</p>
          </div>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>
  </div>
</div>
